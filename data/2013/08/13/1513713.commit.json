{
  "when": "2013-08-13T22:02:02-04:00", 
  "message": "Documentation update", 
  "who": "hiranya", 
  "changes": [
    {
      "chunks": [
        {
          "locn": "-84,7 +84,8", 
          "lines": [
            "         </section>\n", 
            "         <section name=\"Transport Configuration\" id=\"Configuration\">\n", 
            "             <p>\n", 
            "-                Pass Through HTTP transport is configured by default in the repository/conf/axis2.xml\n", 
            "+                Pass Through HTTP transport is configured by default in the\n", 
            "+                <strong>SYNAPSE_HOME/repository/conf/axis2.xml</strong>\n", 
            "                 file of Synapse. The default configuration activates the following four components:\n", 
            "             </p>\n", 
            "             <ul>\n"
          ]
        }, 
        {
          "locn": "-682,264 +683,330", 
          "lines": [
            "             <p>\n", 
            "                 In addition to the basic parameters described in the previous section, the\n", 
            "                 Pass Through HTTP transport provides some advanced options to tweak its\n", 
            "-                runtime behavior and performance. These options are configured in the\n", 
            "-                passthru-http.properties file which should be placed in the lib directory of\n", 
            "-                Synapse. These advanced options enable the user to control some of the low-level\n", 
            "+                runtime behavior and performance. These options should be configured in the\n", 
            "+                <strong>SYNAPSE_HOME/lib/passthru-http.properties</strong> file. These advanced\n", 
            "+                options enable the user to control some of the low-level\n", 
            "                 transport settings related to TCP sockets, I/O buffers and thread pools. Following\n", 
            "-                table describes all the advanced options that can be set for the Pass Through\n", 
            "+                sections describe all the advanced options that can be set for the Pass Through\n", 
            "                 HTTP transport.\n", 
            "             </p>\n", 
            "-            <table>\n", 
            "-                <tr>\n", 
            "-                    <th>Parameter Name</th>\n", 
            "-                    <th>Description/Example</th>\n", 
            "-                    <th>Required</th>\n", 
            "-                    <th>Default</th>\n", 
            "-                </tr>\n", 
            "-                <tr>\n", 
            "-                    <td>http.socket.timeout</td>\n", 
            "-                    <td>\n", 
            "-                        Set the TCP socket timeout in milliseconds\n", 
            "-                        (See <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/net/SocketOptions.html#SO_TIMEOUT\">SO_TIMEOUT</a>).\n", 
            "-                        <div class=\"xmlConf\">http.socket.timeout=20000</div>\n", 
            "-                    </td>\n", 
            "-                    <td>No</td>\n", 
            "-                    <td>60000</td>\n", 
            "-                </tr>\n", 
            "-                <tr>\n", 
            "-                    <td>http.connection.timeout</td>\n", 
            "-                    <td>\n", 
            "-                        Set the TCP connection timeout in milliseconds. This determines the timeout\n", 
            "-                        value for non-blocking connection requests. Setting this property to\n", 
            "-                        0 disables connection timeout (i.e. no timeout).\n", 
            "-                        <div class=\"xmlConf\">http.connection.timeout=30000</div>\n", 
            "-                    </td>\n", 
            "-                    <td>No</td>\n", 
            "-                    <td>0</td>\n", 
            "-                </tr>\n", 
            "-                <tr>\n", 
            "-                    <td>http.nio.interest-ops-queueing</td>\n", 
            "-                    <td>\n", 
            "-                        Determines whether or not I/O interest operations are to be queued and\n", 
            "-                        executed asynchronously by the I/O reactor thread or to be applied to\n", 
            "-                        the underlying\n", 
            "-                        <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/nio/channels/SelectionKey.html\">SelectionKey</a>\n", 
            "-                        immediately. Allowed values are either 'true' or 'false'.\n", 
            "-                        <div class=\"xmlConf\">http.nio.interest-ops-queueing=false</div>\n", 
            "-                    </td>\n", 
            "-                    <td>No</td>\n", 
            "-                    <td>false</td>\n", 
            "-                </tr>\n", 
            "-                <tr>\n", 
            "-                    <td>http.tcp.nodelay</td>\n", 
            "-                    <td>\n", 
            "-                        Setting this property to 'true' disables\n", 
            "-                        <a href=\"http://en.wikipedia.org/wiki/Nagle's_algorithm\">Nagle's algorithm</a>\n", 
            "-                        for the HTTP connections. That is, outgoing data will not be buffered\n", 
            "-                        and aggregated together\n", 
            "-                        (See <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/net/SocketOptions.html#TCP_NODELAY\">TCP_NODELAY</a>).\n", 
            "-                        <div class=\"xmlConf\">http.tcp.nodelay=true</div>\n", 
            "-                    </td>\n", 
            "-                    <td>No</td>\n", 
            "-                    <td>true</td>\n", 
            "-                </tr>\n", 
            "-                <tr>\n", 
            "-                    <td>http.socket.rcv-buffer-size</td>\n", 
            "-                    <td>\n", 
            "-                        Set the size of the buffers (in bytes) used by the underlying platform\n", 
            "-                        for incoming network I/O. This value is only a hint. When set, this is a\n", 
            "-                        suggestion to the OS kernel from Synapse about the size of buffers to\n", 
            "-                        use for the data to be received over the socket\n", 
            "-                        (See <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/net/SocketOptions.html#SO_RCVBUF\">SO_RCVBUF</a>).\n", 
            "-                        <div class=\"xmlConf\">http.socket.rcv-buffer-size=4096</div>\n", 
            "-                    </td>\n", 
            "-                    <td>No</td>\n", 
            "-                    <td>8192</td>\n", 
            "-                </tr>\n", 
            "-                <tr>\n", 
            "-                    <td>http.socket.snd-buffer-size</td>\n", 
            "-                    <td>\n", 
            "-                        Set the size of the buffers (in bytes) used by the underlying platform\n", 
            "-                        for outgoing network I/O. This value is only a hint. When set, this is a\n", 
            "-                        suggestion to the OS kernel from Synapse about the size of buffers to\n", 
            "-                        use for the data to be sent over the socket\n", 
            "-                        (See <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/net/SocketOptions.html#SO_SNDBUF\">SO_SNDBUF</a>).\n", 
            "-                        <div class=\"xmlConf\">http.socket.snd-buffer-size=4096</div>\n", 
            "-                    </td>\n", 
            "-                    <td>No</td>\n", 
            "-                    <td>8192</td>\n", 
            "-                </tr>\n", 
            "-                <tr>\n", 
            "-                    <td>http.socket.linger</td>\n", 
            "-                    <td>\n", 
            "-                        Specify the linger-on-close timeout duration (in milliseconds) for the\n", 
            "-                        sockets created by the HTTP transport. Setting to 0 or a negative value\n", 
            "-                        disables linger-on-close\n", 
            "-                        (See <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/net/SocketOptions.html#SO_LINGER\">SO_LINGER</a>).\n", 
            "-                        <div class=\"xmlConf\">http.socket.linger=5000</div>\n", 
            "-                    </td>\n", 
            "-                    <td>No</td>\n", 
            "-                    <td>-1</td>\n", 
            "-                </tr>\n", 
            "-                <tr>\n", 
            "-                    <td>http.socket.reuseaddr</td>\n", 
            "-                    <td>\n", 
            "-                        Set the <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/net/SocketOptions.html#SO_REUSEADDR\">SO_REUSEADDR</a>\n", 
            "-                        socket option for the sockets created by the HTTP transport. Accepted\n", 
            "-                        values are either 'true' or 'false'.\n", 
            "-                        <div class=\"xmlConf\">http.socket.reuseaddr=true</div>\n", 
            "-                    </td>\n", 
            "-                    <td>No</td>\n", 
            "-                    <td>false</td>\n", 
            "-                </tr>\n", 
            "-                <tr>\n", 
            "-                    <td>http.nio.select-interval</td>\n", 
            "-                    <td>\n", 
            "-                        Set the time interval in milliseconds at which the I/O reactor wakes up\n", 
            "-                        to check for timed out sessions and session requests.\n", 
            "-                        <div class=\"xmlConf\">http.nio.select-interval=2500</div>\n", 
            "-                    </td>\n", 
            "-                    <td>No</td>\n", 
            "-                    <td>1000</td>\n", 
            "-                </tr>\n", 
            "-                <tr>\n", 
            "-                    <td>io_threads_per_reactor</td>\n", 
            "-                    <td>\n", 
            "-                        Set the number of I/O dispatcher threads to be used by each I/O reactor.\n", 
            "-                        Typically, this property controls the ability of the HTTP transport\n", 
            "-                        to handle concurrent I/O events.\n", 
            "-                        It is recommended that this property is set to the number of CPU cores\n", 
            "-                        available for Synapse. By default, Synapse determines the number of\n", 
            "-                        available CPU cores and initializes this setting accordingly.\n", 
            "-                        <div class=\"xmlConf\">io_threads_per_reactor=4</div>\n", 
            "-                    </td>\n", 
            "-                    <td>No</td>\n", 
            "-                    <td>Number of CPU cores</td>\n", 
            "-                </tr>\n", 
            "-                <tr>\n", 
            "-                    <td>http.malformed.input.action</td>\n", 
            "-                    <td>\n", 
            "-                        Specify the action to be performed when a malformed input is detected\n", 
            "-                        during character set encoding or decoding. Supported values are\n", 
            "-                        'ignore', 'replace' and 'report'. See <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/nio/charset/CodingErrorAction.html\">CodingErrorAction</a>\n", 
            "-                        for more details on each of these options.\n", 
            "-                        <div class=\"xmlConf\">http.malformed.input.action=ignore</div>\n", 
            "-                    </td>\n", 
            "-                    <td>No</td>\n", 
            "-                    <td>report</td>\n", 
            "-                </tr>\n", 
            "-                <tr>\n", 
            "-                    <td>http.unmappable.input.action</td>\n", 
            "-                    <td>\n", 
            "-                        Specify the action to be performed when an un-mappable character is detected\n", 
            "-                        during character set encoding or decoding. Supported values are\n", 
            "-                        'ignore', 'replace' and 'report'. See <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/nio/charset/CodingErrorAction.html\">CodingErrorAction</a>\n", 
            "-                        for more details on each of these options.\n", 
            "-                        <div class=\"xmlConf\">http.malformed.input.action=ignore</div>\n", 
            "-                    </td>\n", 
            "-                    <td>No</td>\n", 
            "-                    <td>report</td>\n", 
            "-                </tr>\n", 
            "-                <tr>\n", 
            "-                    <td>io_buffer_size</td>\n", 
            "-                    <td>\n", 
            "-                        Set the size of the I/O buffers (in bytes) used as the pipes between HTTP\n", 
            "-                        listener and sender. Typically, the HTTP listener would write the incoming\n", 
            "-                        message data to one of these buffers, and the sender would read from it to\n", 
            "-                        send the message out.\n", 
            "-                        <div class=\"xmlConf\">io_buffer_size=10240</div>\n", 
            "-                    </td>\n", 
            "-                    <td>No</td>\n", 
            "-                    <td>8192</td>\n", 
            "-                </tr>\n", 
            "-                <tr>\n", 
            "-                    <td>http.user.agent.preserve</td>\n", 
            "-                    <td>\n", 
            "-                        Specify whether Synapse should preserve the User-Agent header sent by the\n", 
            "-                        client applications, when forwarding messages to backend servers. Allowed\n", 
            "-                        values are either true or false. If set to false, Synapse will overwrite\n", 
            "-                        the original User-Agent header value with the string 'Synapse-PT-HttpComponents-NIO'.\n", 
            "-                        <div class=\"xmlConf\">http.user.agent.preserve=true</div>\n", 
            "-                    </td>\n", 
            "-                    <td>No</td>\n", 
            "-                    <td>false</td>\n", 
            "-                </tr>\n", 
            "-                <tr>\n", 
            "-                    <td>http.server.preserve</td>\n", 
            "-                    <td>\n", 
            "-                        Specify whether Synapse should preserve the Server header sent by the\n", 
            "-                        backend servers, when forwarding messages to client applications. Allowed\n", 
            "-                        values are either true or false. If set to false, Synapse will overwrite\n", 
            "-                        the original Server header value with the string 'Synapse-PT-HttpComponents-NIO'.\n", 
            "-                        <div class=\"xmlConf\">http.server.preserve=false</div>\n", 
            "-                    </td>\n", 
            "-                    <td>No</td>\n", 
            "-                    <td>true</td>\n", 
            "-                </tr>\n", 
            "-                <tr>\n", 
            "-                    <td>worker_pool_size_core</td>\n", 
            "-                    <td>\n", 
            "-                        Initial size of the internal thread pool used by the Pass\n", 
            "-                        Through HTTP transport. This thread pool is used for mediating\n", 
            "-                        messages through the Synapse mediation engine. Note that both HTTP\n", 
            "-                        listener and sender draw threads from this pool. It is further shared\n", 
            "-                        between the HTTP and HTTPS transports. The size of this thread pool\n", 
            "-                        determines the capacity of Synapse to mediate concurrent HTTP messages.\n", 
            "-                        <div class=\"xmlConf\">worker_pool_size_core=100</div>\n", 
            "-                    </td>\n", 
            "-                    <td>No</td>\n", 
            "-                    <td>40</td>\n", 
            "-                </tr>\n", 
            "-                <tr>\n", 
            "-                    <td>worker_pool_size_max</td>\n", 
            "-                    <td>\n", 
            "-                        The thread pool used by the Pass Through HTTP transport grows in size, as\n", 
            "-                        more and more jobs are submitted to it. This property determines the\n", 
            "-                        maximum limit up to which the thread pool may grow. In other words,\n", 
            "-                        this property specifies the maximum number of threads that may ever exist\n", 
            "-                        in the transport thread pool. Value of this property must be greater than\n", 
            "-                        or equal to the vallue of worker_pool_size_core.\n", 
            "-                        <div class=\"xmlConf\">worker_pool_size_max=500</div>\n", 
            "-                    </td>\n", 
            "-                    <td>No</td>\n", 
            "-                    <td>200</td>\n", 
            "-                </tr>\n", 
            "-                <tr>\n", 
            "-                    <td>worker_thread_keepalive_sec</td>\n", 
            "-                    <td>\n", 
            "-                        Specify the idle time period (in seconds) for the excessive threads in\n", 
            "-                        the Pass Through transport thread pool. Once a thread in the pool has\n", 
            "-                        been idle for this duration, it will be removed from the pool and\n", 
            "-                        destroyed. This reduces the size of the thread pool, but the thread pool\n", 
            "-                        size is not to allowed drop below the value of the worker_pool_size_core\n", 
            "-                        property.\n", 
            "-                        <div class=\"xmlConf\">worker_thread_keepalive_sec=10</div>\n", 
            "-                    </td>\n", 
            "-                    <td>No</td>\n", 
            "-                    <td>60</td>\n", 
            "-                </tr>\n", 
            "-                <tr>\n", 
            "-                    <td>worker_pool_queue_length</td>\n", 
            "-                    <td>\n", 
            "-                        Determines the length of the queue used by the Pass Through transport\n", 
            "-                        thread pool to store pending jobs. To use an unbounded queue, set this\n", 
            "-                        property to -1. If a bounded queue is used, and if the queue ever gets\n", 
            "-                        filled to its capacity, any further attempts to submit jobs will fail,\n", 
            "-                        causing some messages to be dropped by Synapse.\n", 
            "-                        <div class=\"xmlConf\">worker_pool_queue_length=1000</div>\n", 
            "-                    </td>\n", 
            "-                    <td>No</td>\n", 
            "-                    <td>-1</td>\n", 
            "-                </tr>\n", 
            "-            </table>\n", 
            "-            <p>\n", 
            "-                Note that all the above settings are optional. In fact the entire passthru-http.properties\n", 
            "-                file is optional. Synapse is programmed with some reasonable default values (also\n", 
            "-                given in the table) for each of the above settings. However, it is highly\n", 
            "-                recommended to tweak the above values to obtain best performance from the\n", 
            "-                Pass Through HTTP transport. At least, consider tuning the worker_pool_size_core\n", 
            "-                and worker_pool_size_max to match the expected load in your deployment.\n", 
            "-            </p>\n", 
            "+            <subsection name=\"Apache HTTP Core Settings\" id=\"HttpCoreSettings\">\n", 
            "+                <p>\n", 
            "+                    Following properties control various facets of\n", 
            "+                    <a href=\"http://hc.apache.org/httpcomponents-core-ga/index.html\">Apache HTTP Core</a>,\n", 
            "+                    the framework underlying the Pass Through HTTP transport.\n", 
            "+                </p>\n", 
            "+                <table>\n", 
            "+                    <tr>\n", 
            "+                        <th>Parameter Name</th>\n", 
            "+                        <th>Description/Example</th>\n", 
            "+                        <th>Required</th>\n", 
            "+                        <th>Default</th>\n", 
            "+                    </tr>\n", 
            "+                    <tr>\n", 
            "+                        <td>http.socket.timeout</td>\n", 
            "+                        <td>\n", 
            "+                            Set the TCP socket timeout in milliseconds\n", 
            "+                            (See <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/net/SocketOptions.html#SO_TIMEOUT\">SO_TIMEOUT</a>).\n", 
            "+                            <div class=\"xmlConf\">http.socket.timeout=20000</div>\n", 
            "+                        </td>\n", 
            "+                        <td>No</td>\n", 
            "+                        <td>60000</td>\n", 
            "+                    </tr>\n", 
            "+                    <tr>\n", 
            "+                        <td>http.connection.timeout</td>\n", 
            "+                        <td>\n", 
            "+                            Set the TCP connection timeout in milliseconds. This determines the timeout\n", 
            "+                            value for non-blocking connection requests. Setting this property to\n", 
            "+                            0 disables connection timeout (i.e. no timeout).\n", 
            "+                            <div class=\"xmlConf\">http.connection.timeout=30000</div>\n", 
            "+                        </td>\n", 
            "+                        <td>No</td>\n", 
            "+                        <td>0</td>\n", 
            "+                    </tr>\n", 
            "+                    <tr>\n", 
            "+                        <td>http.nio.interest-ops-queueing</td>\n", 
            "+                        <td>\n", 
            "+                            Determines whether or not I/O interest operations are to be queued and\n", 
            "+                            executed asynchronously by the I/O reactor thread or to be applied to\n", 
            "+                            the underlying\n", 
            "+                            <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/nio/channels/SelectionKey.html\">SelectionKey</a>\n", 
            "+                            immediately. Allowed values are either 'true' or 'false'.\n", 
            "+                            <div class=\"xmlConf\">http.nio.interest-ops-queueing=false</div>\n", 
            "+                        </td>\n", 
            "+                        <td>No</td>\n", 
            "+                        <td>false</td>\n", 
            "+                    </tr>\n", 
            "+                    <tr>\n", 
            "+                        <td>http.tcp.nodelay</td>\n", 
            "+                        <td>\n", 
            "+                            Setting this property to 'true' disables\n", 
            "+                            <a href=\"http://en.wikipedia.org/wiki/Nagle's_algorithm\">Nagle's algorithm</a>\n", 
            "+                            for the HTTP connections. That is, outgoing data will not be buffered\n", 
            "+                            and aggregated together\n", 
            "+                            (See <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/net/SocketOptions.html#TCP_NODELAY\">TCP_NODELAY</a>).\n", 
            "+                            <div class=\"xmlConf\">http.tcp.nodelay=true</div>\n", 
            "+                        </td>\n", 
            "+                        <td>No</td>\n", 
            "+                        <td>true</td>\n", 
            "+                    </tr>\n", 
            "+                    <tr>\n", 
            "+                        <td>http.socket.buffer-size</td>\n", 
            "+                        <td>\n", 
            "+                            Set the size of the I/O session buffers (in bytes) used by the transport\n", 
            "+                            for reading incoming data and writing outgoing data.\n", 
            "+                            <div class=\"xmlConf\">http.socket.buffer-size=4096</div>\n", 
            "+                        </td>\n", 
            "+                        <td>No</td>\n", 
            "+                        <td>8192</td>\n", 
            "+                    </tr>\n", 
            "+                    <tr>\n", 
            "+                        <td>http.socket.rcv-buffer-size</td>\n", 
            "+                        <td>\n", 
            "+                            Set the size of the buffers (in bytes) used by the underlying platform\n", 
            "+                            for incoming network I/O. This value is only a hint. When set, this is a\n", 
            "+                            suggestion to the OS kernel from Synapse about the size of buffers to\n", 
            "+                            use for the data to be received over the socket\n", 
            "+                            (See <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/net/SocketOptions.html#SO_RCVBUF\">SO_RCVBUF</a>).\n", 
            "+                            <div class=\"xmlConf\">http.socket.rcv-buffer-size=4096</div>\n", 
            "+                        </td>\n", 
            "+                        <td>No</td>\n", 
            "+                        <td>8192</td>\n", 
            "+                    </tr>\n", 
            "+                    <tr>\n", 
            "+                        <td>http.socket.snd-buffer-size</td>\n", 
            "+                        <td>\n", 
            "+                            Set the size of the buffers (in bytes) used by the underlying platform\n", 
            "+                            for outgoing network I/O. This value is only a hint. When set, this is a\n", 
            "+                            suggestion to the OS kernel from Synapse about the size of buffers to\n", 
            "+                            use for the data to be sent over the socket\n", 
            "+                            (See <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/net/SocketOptions.html#SO_SNDBUF\">SO_SNDBUF</a>).\n", 
            "+                            <div class=\"xmlConf\">http.socket.snd-buffer-size=4096</div>\n", 
            "+                        </td>\n", 
            "+                        <td>No</td>\n", 
            "+                        <td>8192</td>\n", 
            "+                    </tr>\n", 
            "+                    <tr>\n", 
            "+                        <td>http.socket.linger</td>\n", 
            "+                        <td>\n", 
            "+                            Specify the linger-on-close timeout duration (in milliseconds) for the\n", 
            "+                            sockets created by the HTTP transport. Setting to 0 or a negative value\n", 
            "+                            disables linger-on-close\n", 
            "+                            (See <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/net/SocketOptions.html#SO_LINGER\">SO_LINGER</a>).\n", 
            "+                            <div class=\"xmlConf\">http.socket.linger=5000</div>\n", 
            "+                        </td>\n", 
            "+                        <td>No</td>\n", 
            "+                        <td>-1</td>\n", 
            "+                    </tr>\n", 
            "+                    <tr>\n", 
            "+                        <td>http.socket.reuseaddr</td>\n", 
            "+                        <td>\n", 
            "+                            Set the <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/net/SocketOptions.html#SO_REUSEADDR\">SO_REUSEADDR</a>\n", 
            "+                            socket option for the sockets created by the HTTP transport. Accepted\n", 
            "+                            values are either 'true' or 'false'.\n", 
            "+                            <div class=\"xmlConf\">http.socket.reuseaddr=true</div>\n", 
            "+                        </td>\n", 
            "+                        <td>No</td>\n", 
            "+                        <td>false</td>\n", 
            "+                    </tr>\n", 
            "+                    <tr>\n", 
            "+                        <td>http.nio.select-interval</td>\n", 
            "+                        <td>\n", 
            "+                            Set the time interval in milliseconds at which the I/O reactor wakes up\n", 
            "+                            to check for timed out sessions and session requests.\n", 
            "+                            <div class=\"xmlConf\">http.nio.select-interval=2500</div>\n", 
            "+                        </td>\n", 
            "+                        <td>No</td>\n", 
            "+                        <td>1000</td>\n", 
            "+                    </tr>\n", 
            "+                    <tr>\n", 
            "+                        <td>io_threads_per_reactor</td>\n", 
            "+                        <td>\n", 
            "+                            Set the number of I/O dispatcher threads to be used by each I/O reactor.\n", 
            "+                            Typically, this property controls the ability of the HTTP transport\n", 
            "+                            to handle concurrent I/O events.\n", 
            "+                            It is recommended that this property is set to the number of CPU cores\n", 
            "+                            available for Synapse. By default, Synapse determines the number of\n", 
            "+                            available CPU cores and initializes this setting accordingly.\n", 
            "+                            <div class=\"xmlConf\">io_threads_per_reactor=4</div>\n", 
            "+                        </td>\n", 
            "+                        <td>No</td>\n", 
            "+                        <td>Number of CPU cores</td>\n", 
            "+                    </tr>\n", 
            "+                    <tr>\n", 
            "+                        <td>http.malformed.input.action</td>\n", 
            "+                        <td>\n", 
            "+                            Specify the action to be performed when a malformed input is detected\n", 
            "+                            during character set encoding or decoding. Supported values are\n", 
            "+                            'ignore', 'replace' and 'report'. See <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/nio/charset/CodingErrorAction.html\">CodingErrorAction</a>\n", 
            "+                            for more details on each of these options.\n", 
            "+                            <div class=\"xmlConf\">http.malformed.input.action=ignore</div>\n", 
            "+                        </td>\n", 
            "+                        <td>No</td>\n", 
            "+                        <td>report</td>\n", 
            "+                    </tr>\n", 
            "+                    <tr>\n", 
            "+                        <td>http.unmappable.input.action</td>\n", 
            "+                        <td>\n", 
            "+                            Specify the action to be performed when an un-mappable character is detected\n", 
            "+                            during character set encoding or decoding. Supported values are\n", 
            "+                            'ignore', 'replace' and 'report'. See <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/nio/charset/CodingErrorAction.html\">CodingErrorAction</a>\n", 
            "+                            for more details on each of these options.\n", 
            "+                            <div class=\"xmlConf\">http.malformed.input.action=ignore</div>\n", 
            "+                        </td>\n", 
            "+                        <td>No</td>\n", 
            "+                        <td>report</td>\n", 
            "+                    </tr>\n", 
            "+                </table>\n", 
            "+            </subsection>\n", 
            "+            <subsection name=\"Synapse HTTP Mediation Settings\" id=\"SynapseSettings\">\n", 
            "+                <p>\n", 
            "+                    Following settings determine the behavior of Synapse with respect to mediating\n", 
            "+                    HTTP traffic.\n", 
            "+                </p>\n", 
            "+                <table>\n", 
            "+                    <tr>\n", 
            "+                        <th>Parameter Name</th>\n", 
            "+                        <th>Description/Example</th>\n", 
            "+                        <th>Required</th>\n", 
            "+                        <th>Default</th>\n", 
            "+                    </tr>\n", 
            "+                    <tr>\n", 
            "+                        <td>io_buffer_size</td>\n", 
            "+                        <td>\n", 
            "+                            Set the size of the I/O buffers (in bytes) used as the pipes between HTTP\n", 
            "+                            listener and sender. Typically, the HTTP listener would write the incoming\n", 
            "+                            message data to one of these buffers, and the sender would read from it to\n", 
            "+                            send the message out.\n", 
            "+                            <div class=\"xmlConf\">io_buffer_size=10240</div>\n", 
            "+                        </td>\n", 
            "+                        <td>No</td>\n", 
            "+                        <td>8192</td>\n", 
            "+                    </tr>\n", 
            "+                    <tr>\n", 
            "+                        <td>http.user.agent.preserve</td>\n", 
            "+                        <td>\n", 
            "+                            Specify whether Synapse should preserve the User-Agent header sent by the\n", 
            "+                            client applications, when forwarding messages to backend servers. Allowed\n", 
            "+                            values are either true or false. If set to false, Synapse will overwrite\n", 
            "+                            the original User-Agent header value with the string 'Synapse-PT-HttpComponents-NIO'.\n", 
            "+                            <div class=\"xmlConf\">http.user.agent.preserve=true</div>\n", 
            "+                        </td>\n", 
            "+                        <td>No</td>\n", 
            "+                        <td>false</td>\n", 
            "+                    </tr>\n", 
            "+                    <tr>\n", 
            "+                        <td>http.server.preserve</td>\n", 
            "+                        <td>\n", 
            "+                            Specify whether Synapse should preserve the Server header sent by the\n", 
            "+                            backend servers, when forwarding messages to client applications. Allowed\n", 
            "+                            values are either true or false. If set to false, Synapse will overwrite\n", 
            "+                            the original Server header value with the string 'Synapse-PT-HttpComponents-NIO'.\n", 
            "+                            <div class=\"xmlConf\">http.server.preserve=false</div>\n", 
            "+                        </td>\n", 
            "+                        <td>No</td>\n", 
            "+                        <td>true</td>\n", 
            "+                    </tr>\n", 
            "+                </table>\n", 
            "+            </subsection>\n", 
            "+            <subsection name=\"Thread Pool Settings\" id=\"ThreadPoolSettings\">\n", 
            "+                <p>\n", 
            "+                    The Pass Through HTTP transport uses a thread pool for mediating messages\n", 
            "+                    through the Synapse mediation engine. Both HTTP listener and sender draw threads\n", 
            "+                    from this pool. It is further shared between the HTTP and HTTPS transports. The\n", 
            "+                    size of this thread pool determines the capacity of Synapse to mediate\n", 
            "+                    concurrent HTTP messages.\n", 
            "+                </p>\n", 
            "+                <table>\n", 
            "+                    <tr>\n", 
            "+                        <th>Parameter Name</th>\n", 
            "+                        <th>Description/Example</th>\n", 
            "+                        <th>Required</th>\n", 
            "+                        <th>Default</th>\n", 
            "+                    </tr>\n", 
            "+                    <tr>\n", 
            "+                        <td>worker_pool_size_core</td>\n", 
            "+                        <td>\n", 
            "+                            Initial the size of the internal thread pool used by the Pass\n", 
            "+                            Through HTTP transport. This is also the minimum size of the thread pool.\n", 
            "+                            That is, the number of threads in the pool is not allowed to drop\n", 
            "+                            below this limit.\n", 
            "+                            <div class=\"xmlConf\">worker_pool_size_core=100</div>\n", 
            "+                        </td>\n", 
            "+                        <td>No</td>\n", 
            "+                        <td>40</td>\n", 
            "+                    </tr>\n", 
            "+                    <tr>\n", 
            "+                        <td>worker_pool_size_max</td>\n", 
            "+                        <td>\n", 
            "+                            The thread pool used by the Pass Through HTTP transport grows in size, as\n", 
            "+                            more and more jobs are submitted to it. This property determines the\n", 
            "+                            maximum limit up to which the thread pool may grow. In other words,\n", 
            "+                            this property specifies the maximum number of threads that may ever exist\n", 
            "+                            in the transport thread pool. Value of this property must be greater than\n", 
            "+                            or equal to the value of worker_pool_size_core.\n", 
            "+                            <div class=\"xmlConf\">worker_pool_size_max=500</div>\n", 
            "+                        </td>\n", 
            "+                        <td>No</td>\n", 
            "+                        <td>200</td>\n", 
            "+                    </tr>\n", 
            "+                    <tr>\n", 
            "+                        <td>worker_thread_keepalive_sec</td>\n", 
            "+                        <td>\n", 
            "+                            Specify the idle time period (in seconds) for the excessive threads in\n", 
            "+                            the Pass Through transport thread pool. Once a thread in the pool has\n", 
            "+                            been idle for this duration, it will be removed from the pool and\n", 
            "+                            destroyed. This reduces the size of the thread pool, but the thread pool\n", 
            "+                            size is not to allowed drop below the value of the worker_pool_size_core\n", 
            "+                            property.\n", 
            "+                            <div class=\"xmlConf\">worker_thread_keepalive_sec=10</div>\n", 
            "+                        </td>\n", 
            "+                        <td>No</td>\n", 
            "+                        <td>60</td>\n", 
            "+                    </tr>\n", 
            "+                    <tr>\n", 
            "+                        <td>worker_pool_queue_length</td>\n", 
            "+                        <td>\n", 
            "+                            Determines the length of the queue used by the Pass Through transport\n", 
            "+                            thread pool to store pending jobs. To use an unbounded queue, set this\n", 
            "+                            property to -1. If a bounded queue is used, and if the queue ever gets\n", 
            "+                            filled to its capacity, any further attempts to submit jobs will fail,\n", 
            "+                            causing some messages to be dropped by Synapse.\n", 
            "+                            <div class=\"xmlConf\">worker_pool_queue_length=1000</div>\n", 
            "+                        </td>\n", 
            "+                        <td>No</td>\n", 
            "+                        <td>-1</td>\n", 
            "+                    </tr>\n", 
            "+                </table>\n", 
            "+            </subsection>\n", 
            "+            <subsection name=\"Guidelines for Using Advanced Settings\" id=\"AdvancedGuidelines\">\n", 
            "+                <p>\n", 
            "+                    Note that all the above settings are optional. In fact the entire passthru-http.properties\n", 
            "+                    file is optional. Synapse is programmed with some reasonable default values (also\n", 
            "+                    given in the table) for each of the above settings. However, it is highly\n", 
            "+                    recommended to tweak the above values to obtain best performance from the\n", 
            "+                    Pass Through HTTP transport. At least, consider tuning the worker_pool_size_core\n", 
            "+                    and worker_pool_size_max to match the expected load in your deployment.\n", 
            "+                </p>\n", 
            "+                <p>\n", 
            "+                    You might be tempted to configure the transport with a very large thread pool\n", 
            "+                    (e.g. 1000's of threads). But bare in mind that more threads equals more memory\n", 
            "+                    usage. Also, on some operating systems there are restrictions on the number of\n", 
            "+                    threads that can be spawned by an application. Therefore, do not attempt to set\n", 
            "+                    the thread pool size to an unnecessarily large value. Do a rough estimate of your\n", 
            "+                    expected workload (expected number of concurrent users), and set the thread pool\n", 
            "+                    size accordingly. As for setting the number of I/O dispatcher threads\n", 
            "+                    (io_threads_per_reactor), setting it to match the number of available CPU cores\n", 
            "+                    generally results in good performance. Synapse does this for you by default,\n", 
            "+                    so you shouldn't have to do any extra work with regard to this property.\n", 
            "+                </p>\n", 
            "+                <p>\n", 
            "+                    It is highly recommended to run some load tests on Synapse using your own mediation\n", 
            "+                    (sequence/proxy/API) configurations on the actual production hardware. This will\n", 
            "+                    give you a much clear idea of what transport level properties need to be tuned up\n", 
            "+                    in your deployment.\n", 
            "+                </p>\n", 
            "+            </subsection>\n", 
            "             <subsection name=\"Unix/Linux Specific Settings\" id=\"LinuxSettings\">\n", 
            "                 <p>\n", 
            "                     Users deploying Synapse on Unix/Linux systems are further advised to set the\n"
          ]
        }
      ], 
      "to": "java/modules/documentation/src/site/xdoc/userguide/transports/pass_through.xml", 
      "from": "java/modules/documentation/src/site/xdoc/userguide/transports/pass_through.xml"
    }
  ], 
  "id": "1513713"
}