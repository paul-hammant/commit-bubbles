{
  "when": "2012-08-15T15:21:08-04:00", 
  "message": "SYNAPSE-906: Fixed sample 158 so that it actually sends SOAP (not POX) to the target service.\n", 
  "who": "veithen", 
  "changes": [
    {
      "chunks": [
        {
          "locn": "-24,53 +24,51", 
          "lines": [
            "     </properties>\n", 
            "     <body>\n", 
            "         <section name=\"Sample 158: Exposing a SOAP service over JSON\">\n", 
            "-            <div class=\"xmlConf\">&lt;definitions xmlns=\"http://ws.apache.org/ns/synapse\"&gt;\n", 
            "+            <div class=\"xmlConf\"><![CDATA[<definitions xmlns=\"http://ws.apache.org/ns/synapse\">\n", 
            " \n", 
            "-    &lt;proxy name=\"JSONProxy\" transports=\"http https\"&gt;\n", 
            "-        &lt;target&gt;\n", 
            "-            &lt;endpoint&gt;\n", 
            "-                &lt;address uri=\"http://localhost:9000/services/SimpleStockQuoteService\"/&gt;\n", 
            "-            &lt;/endpoint&gt;\n", 
            "-            &lt;inSequence&gt;\n", 
            "-                &lt;log level=\"full\"/&gt;\n", 
            "-                &lt;xslt key=\"in_transform\"/&gt;\n", 
            "-                &lt;property name=\"messageType\" scope=\"axis2\" value=\"text/xml\"/&gt;\n", 
            "-            &lt;/inSequence&gt;\n", 
            "-            &lt;outSequence&gt;\n", 
            "-                &lt;log level=\"full\"/&gt;\n", 
            "-                &lt;xslt key=\"out_transform\"/&gt;\n", 
            "-                &lt;property name=\"messageType\" scope=\"axis2\" value=\"application/json\"/&gt;\n", 
            "-                &lt;send/&gt;\n", 
            "-            &lt;/outSequence&gt;\n", 
            "-        &lt;/target&gt;\n", 
            "-    &lt;/proxy&gt;\n", 
            "+    <proxy name=\"JSONProxy\" transports=\"http https\">\n", 
            "+        <target>\n", 
            "+            <endpoint>\n", 
            "+                <address uri=\"http://localhost:9000/services/SimpleStockQuoteService\" format=\"soap11\"/>\n", 
            "+            </endpoint>\n", 
            "+            <inSequence>\n", 
            "+                <log level=\"full\"/>\n", 
            "+                <xslt key=\"in_transform\"/>\n", 
            "+            </inSequence>\n", 
            "+            <outSequence>\n", 
            "+                <log level=\"full\"/>\n", 
            "+                <xslt key=\"out_transform\"/>\n", 
            "+                <send/>\n", 
            "+            </outSequence>\n", 
            "+        </target>\n", 
            "+    </proxy>\n", 
            " \n", 
            "-    &lt;localEntry key=\"in_transform\"&gt;\n", 
            "-        &lt;xsl:stylesheet xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\n", 
            "+    <localEntry key=\"in_transform\">\n", 
            "+        <xsl:stylesheet xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\n", 
            "                         xmlns:fn=\"http://www.w3.org/2005/02/xpath-functions\"\n", 
            "-                        xmlns:m0=\"http://services.samples\" version=\"2.0\" exclude-result-prefixes=\"m0 fn\"&gt;\n", 
            "-            &lt;xsl:output method=\"xml\" omit-xml-declaration=\"yes\" indent=\"yes\"/&gt;\n", 
            "-            &lt;xsl:template match=\"*\"&gt;\n", 
            "-                &lt;xsl:element name=\"{local-name()}\" namespace=\"http://services.samples\"&gt;\n", 
            "-                    &lt;xsl:copy-of select=\"attribute::*\"/&gt;\n", 
            "-                    &lt;xsl:apply-templates/&gt;\n", 
            "-                &lt;/xsl:element&gt;\n", 
            "-            &lt;/xsl:template&gt;\n", 
            "-        &lt;/xsl:stylesheet&gt;\n", 
            "-    &lt;/localEntry&gt;\n", 
            "+                        xmlns:m0=\"http://services.samples\" version=\"2.0\" exclude-result-prefixes=\"m0 fn\">\n", 
            "+            <xsl:output method=\"xml\" omit-xml-declaration=\"yes\" indent=\"yes\"/>\n", 
            "+            <xsl:template match=\"*\">\n", 
            "+                <xsl:element name=\"{local-name()}\" namespace=\"http://services.samples\">\n", 
            "+                    <xsl:copy-of select=\"attribute::*\"/>\n", 
            "+                    <xsl:apply-templates/>\n", 
            "+                </xsl:element>\n", 
            "+            </xsl:template>\n", 
            "+        </xsl:stylesheet>\n", 
            "+    </localEntry>\n", 
            " \n", 
            "-    &lt;localEntry key=\"out_transform\"&gt;\n", 
            "-        &lt;xsl:stylesheet xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" version=\"1.0\"&gt;\n", 
            "-            &lt;xsl:output method=\"xml\" version=\"1.0\" encoding=\"UTF-8\"/&gt;\n", 
            "-            &lt;xsl:template match=\"*\"&gt;\n", 
            "-                &lt;xsl:element name=\"{local-name()}\"&gt;\n", 
            "-                    &lt;xsl:apply-templates/&gt;\n", 
            "-                &lt;/xsl:element&gt;\n", 
            "-            &lt;/xsl:template&gt;\n", 
            "-        &lt;/xsl:stylesheet&gt;\n", 
            "-    &lt;/localEntry&gt;\n", 
            "+    <localEntry key=\"out_transform\">\n", 
            "+        <xsl:stylesheet xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" version=\"1.0\">\n", 
            "+            <xsl:output method=\"xml\" version=\"1.0\" encoding=\"UTF-8\"/>\n", 
            "+            <xsl:template match=\"*\">\n", 
            "+                <xsl:element name=\"{local-name()}\">\n", 
            "+                    <xsl:apply-templates/>\n", 
            "+                </xsl:element>\n", 
            "+            </xsl:template>\n", 
            "+        </xsl:stylesheet>\n", 
            "+    </localEntry>\n", 
            " \n", 
            "-&lt;/definitions&gt;</div>\n", 
            "+</definitions>]]></div>\n", 
            "             <subsection name=\"Objective\">\n", 
            "                 <p>\n", 
            "  \t\t\t\t\tDemonstrate the ability to switch between JSON and XML/SOAP content interchange formats\n"
          ]
        }
      ], 
      "to": "java/modules/documentation/src/site/xdoc/userguide/samples/sample158.xml", 
      "from": "java/modules/documentation/src/site/xdoc/userguide/samples/sample158.xml"
    }, 
    {
      "chunks": [
        {
          "locn": "-23,17 +23,15", 
          "lines": [
            "     <proxy name=\"JSONProxy\" transports=\"http https\">\n", 
            "         <target>\n", 
            "             <endpoint>\n", 
            "-                <address uri=\"http://localhost:9000/services/SimpleStockQuoteService\"/>\n", 
            "+                <address uri=\"http://localhost:9000/services/SimpleStockQuoteService\" format=\"soap11\"/>\n", 
            "             </endpoint>\n", 
            "             <inSequence>\n", 
            "                 <log level=\"full\"/>\n", 
            "                 <xslt key=\"in_transform\"/>\n", 
            "-                <property name=\"messageType\" scope=\"axis2\" value=\"text/xml\"/>\n", 
            "             </inSequence>\n", 
            "             <outSequence>\n", 
            "                 <log level=\"full\"/>\n", 
            "                 <xslt key=\"out_transform\"/>\n", 
            "-                <property name=\"messageType\" scope=\"axis2\" value=\"application/json\"/>\n", 
            "                 <send/>\n", 
            "             </outSequence>\n", 
            "         </target>\n"
          ]
        }
      ], 
      "to": "java/repository/conf/sample/synapse_sample_158.xml", 
      "from": "java/repository/conf/sample/synapse_sample_158.xml"
    }
  ], 
  "id": "1373590"
}